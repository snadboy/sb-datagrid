<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sb-datagrid - Lightweight JavaScript DataGrid Component</title>
    <meta name="description" content="A lightweight, customizable, and feature-rich data grid component with resizable columns, sorting, drag-and-drop column reordering, and more.">
    <meta name="author" content="snadboy">
    <meta property="og:title" content="sb-datagrid - JavaScript DataGrid Component">
    <meta property="og:description" content="A lightweight, customizable, and feature-rich data grid component with resizable columns, sorting, drag-and-drop column reordering, and more.">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="https://snadboy.github.io/sb-datagrid/css/datagrid.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            padding: 40px;
            max-width: 1400px;
            margin: 0 auto;
            background-color: #f5f5f5;
        }
        
        h1, h2, h3 {
            color: #333;
        }
        
        .example-section {
            background: white;
            padding: 30px;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .example-grid {
            margin: 20px 0;
            height: 400px;
        }
        
        .code-block {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
        }
        
        .code-block pre {
            margin: 0;
            font-size: 13px;
        }
        
        .controls {
            margin: 20px 0;
        }
        
        .controls button {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
        }
        
        .controls button:hover {
            background: #0056b3;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        .feature-list li:before {
            content: "✓ ";
            color: #28a745;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>📊 sb-datagrid</h1>
    <p>A lightweight, customizable, and feature-rich JavaScript data grid component with resizable columns, sorting, drag-and-drop column reordering, and more.</p>
    
    <div style="margin: 20px 0; padding: 15px; background: #e3f2fd; border-left: 4px solid #2196f3; border-radius: 4px;">
        <strong>🚀 Quick Start:</strong> 
        <code style="background: #fff; padding: 2px 6px; border-radius: 3px; margin: 0 5px;">
            &lt;script src="https://snadboy.github.io/sb-datagrid/datagrid.js"&gt;&lt;/script&gt;
        </code>
        <br><br>
        <strong>📚 CDN:</strong> 
        <code style="background: #fff; padding: 2px 6px; border-radius: 3px; margin: 0 5px;">
            &lt;link rel="stylesheet" href="https://snadboy.github.io/sb-datagrid/datagrid.css"&gt;
        </code>
    </div>

    <!-- Features Section -->
    <div class="example-section">
        <h2>Features</h2>
        <ul class="feature-list">
            <li>Resizable columns with drag-and-drop</li>
            <li>Reorderable columns (drag headers to rearrange)</li>
            <li>Auto-size columns (double-click headers or borders)</li>
            <li>Column sorting (ascending/descending)</li>
            <li>Row selection (single, multi, and range selection)</li>
            <li>Custom cell renderers</li>
            <li>Theming support (light, dark, compact, bordered)</li>
            <li>Responsive design</li>
            <li>Event callbacks for interaction</li>
            <li>Dynamic data updates</li>
            <li>Lightweight and performant</li>
        </ul>
    </div>

    <!-- Basic Example -->
    <div class="example-section">
        <h2>Basic Example</h2>
        <p>A simple data grid with employee information. Try:</p>
        <ul>
            <li><strong>Reorder columns</strong>: Drag and drop column headers</li>
            <li><strong>Resize columns</strong>: Drag the column borders</li>
            <li><strong>Auto-size columns</strong>: Double-click column headers or resizer borders</li>
            <li><strong>Sort data</strong>: Single-click column headers</li>
        </ul>
        <div id="basic-grid" class="example-grid"></div>
        
        <h3>Code:</h3>
        <div class="code-block">
            <pre>const basicGrid = new DataGrid('#basic-grid', {
    columns: [
        { field: 'id', header: 'ID', width: '80px' },
        { field: 'name', header: 'Name' },
        { field: 'position', header: 'Position' },
        { field: 'department', header: 'Department' },
        { field: 'salary', header: 'Salary' }
    ],
    data: employeeData
});</pre>
        </div>
    </div>

    <!-- Advanced Example -->
    <div class="example-section">
        <h2>Advanced Example with All Features</h2>
        <p>This example demonstrates sorting, selection, custom renderers, and event callbacks.</p>
        <p><strong>Selection:</strong></p>
        <ul style="margin: 10px 0;">
            <li><strong>Click</strong>: Select a single row</li>
            <li><strong>Ctrl/Cmd+Click</strong>: Add/remove individual rows to selection</li>
            <li><strong>Shift+Click</strong>: Select a range of rows</li>
            <li><strong>Ctrl/Cmd+Shift+Click</strong>: Add a range to existing selection</li>
        </ul>
        
        <div class="controls">
            <button onclick="addRandomRow()">Add Row</button>
            <button onclick="removeSelectedRows()">Remove Selected</button>
            <button onclick="toggleTheme()">Toggle Theme</button>
            <button id="filterBtn" onclick="toggleFilter()">Show Selected Data</button>
        </div>
        
        <div id="advanced-grid" class="example-grid"></div>
        
        <div id="selection-info" style="margin-top: 20px; padding: 10px; background: #f8f9fa; border-radius: 4px; min-height: 40px;">
            <strong>Selection:</strong> <span id="selection-text">No rows selected</span>
        </div>
    </div>

    <!-- Custom Renderer Example -->
    <div class="example-section">
        <h2>Custom Cell Renderers</h2>
        <p>Use custom renderers to display rich content in cells.</p>
        <div id="custom-grid" class="example-grid"></div>
    </div>

    <!-- API Documentation -->
    <div class="example-section">
        <h2>API Documentation</h2>
        
        <h3>Constructor</h3>
        <div class="code-block">
            <pre>new DataGrid(container, options)</pre>
        </div>
        
        <h3>Options</h3>
        <div class="code-block">
            <pre>{
    columns: [],           // Array of column definitions
    data: [],             // Array of data objects
    resizable: true,      // Enable column resizing
    sortable: true,       // Enable column sorting
    selectable: false,    // Enable row selection
    reorderable: true,    // Enable column reordering
    theme: '',           // Theme class (dark, compact, bordered)
    minColumnWidth: 50,   // Minimum column width in pixels
    maxColumnWidth: null, // Maximum column width in pixels
    onSort: function(column, direction) {},      // Sort callback
    onSelect: function(selectedRows) {},         // Selection callback
    onResize: function(columnIndex, newWidth) {}, // Resize callback
    onReorder: function(fromIndex, toIndex, columns) {}, // Reorder callback
    onCellClick: function(row, column, cell) {},  // Cell click callback
    onCellDoubleClick: function(row, column, cell) {} // Cell double-click callback
}</pre>
        </div>
        
        <h3>Column Definition</h3>
        <div class="code-block">
            <pre>{
    field: 'fieldName',        // Data field name
    header: 'Column Header',   // Display header text
    width: '150px',           // Initial width (px or fr)
    sortable: true,           // Enable sorting for this column
    resizable: true,          // Enable resizing for this column
    renderer: function(value, row, column) {}, // Custom cell renderer
    sorter: function(a, b, direction) {}      // Custom sort function
}</pre>
        </div>
        
        <h3>Methods</h3>
        <div class="code-block">
            <pre>grid.setData(data)           // Update grid data
grid.addRow(row)            // Add a new row
grid.removeRow(index)        // Remove row by index
grid.updateRow(index, row)   // Update row data
grid.getSelectedRows()       // Get selected row data
grid.clearSelection()        // Clear all selections
grid.autoSizeColumn(index)   // Auto-size a specific column
grid.setTheme(theme)        // Change grid theme dynamically
grid.showSelectedOnly()     // Filter to show only selected rows
grid.showAll()              // Show all rows (clear filter)
grid.isFiltered()           // Check if grid is filtered
grid.refresh()              // Refresh the grid
grid.destroy()              // Destroy the grid instance</pre>
        </div>
    </div>

    <script src="https://snadboy.github.io/sb-datagrid/js/datagrid.js"></script>
    <script>
        // Sample data
        const employeeData = [
            { id: 1, name: 'John Smith', position: 'Software Engineer', department: 'Engineering', salary: '$95,000', email: 'john.smith@company.com', status: 'active' },
            { id: 2, name: 'Sarah Johnson', position: 'Product Manager', department: 'Product', salary: '$110,000', email: 'sarah.j@company.com', status: 'active' },
            { id: 3, name: 'Michael Chen', position: 'UX Designer', department: 'Design', salary: '$85,000', email: 'm.chen@company.com', status: 'active' },
            { id: 4, name: 'Emily Davis', position: 'Data Analyst', department: 'Analytics', salary: '$78,000', email: 'emily.d@company.com', status: 'inactive' },
            { id: 5, name: 'Robert Wilson', position: 'DevOps Engineer', department: 'Engineering', salary: '$105,000', email: 'r.wilson@company.com', status: 'active' },
            { id: 6, name: 'Lisa Anderson', position: 'Marketing Manager', department: 'Marketing', salary: '$92,000', email: 'lisa.a@company.com', status: 'active' },
            { id: 7, name: 'James Taylor', position: 'Senior Developer', department: 'Engineering', salary: '$125,000', email: 'j.taylor@company.com', status: 'active' },
            { id: 8, name: 'Maria Garcia', position: 'HR Manager', department: 'Human Resources', salary: '$88,000', email: 'maria.g@company.com', status: 'active' },
            { id: 9, name: 'David Brown', position: 'QA Engineer', department: 'Quality', salary: '$75,000', email: 'd.brown@company.com', status: 'inactive' },
            { id: 10, name: 'Jennifer White', position: 'Finance Director', department: 'Finance', salary: '$145,000', email: 'j.white@company.com', status: 'active' }
        ];

        // Basic Grid
        const basicGrid = new DataGrid('#basic-grid', {
            columns: [
                { field: 'id', header: 'ID', width: '80px' },
                { field: 'name', header: 'Name' },
                { field: 'position', header: 'Position' },
                { field: 'department', header: 'Department' },
                { field: 'salary', header: 'Salary' }
            ],
            data: employeeData.slice(0, 5)
        });

        // Advanced Grid
        let advancedGrid;
        let currentTheme = '';
        
        function initAdvancedGrid() {
            advancedGrid = new DataGrid('#advanced-grid', {
                columns: [
                    { field: 'id', header: 'ID', width: '60px', sortable: true },
                    { field: 'name', header: 'Name', sortable: true },
                    { field: 'position', header: 'Position', sortable: true },
                    { field: 'department', header: 'Department', sortable: true },
                    { field: 'salary', header: 'Salary', sortable: true },
                    { 
                        field: 'status', 
                        header: 'Status', 
                        width: '100px',
                        renderer: (value) => {
                            const color = value === 'active' ? '#28a745' : '#dc3545';
                            return `<span style="color: ${color}; font-weight: bold;">● ${value}</span>`;
                        }
                    }
                ],
                data: [...employeeData],
                selectable: true,
                reorderable: true,
                theme: currentTheme,
                onSelect: (selectedRows) => {
                    const text = selectedRows.length > 0 
                        ? `${selectedRows.length} row(s) selected: ${selectedRows.map(r => r.name).join(', ')}`
                        : 'No rows selected';
                    document.getElementById('selection-text').textContent = text;
                },
                onSort: (column, direction) => {
                    console.log(`Sorted by ${column} (${direction})`);
                },
                onReorder: (fromIndex, toIndex, columns) => {
                    console.log(`Column moved from index ${fromIndex} to ${toIndex}`);
                    console.log('New column order:', columns.map(c => c.header || c.field));
                },
                onCellClick: (row, column, cell) => {
                    console.log('Cell clicked:', { row, column });
                }
            });
        }
        
        initAdvancedGrid();

        // Custom Renderer Grid
        const customGrid = new DataGrid('#custom-grid', {
            columns: [
                { 
                    field: 'id', 
                    header: 'ID', 
                    width: '60px',
                    renderer: (value) => `<strong>#${value}</strong>`
                },
                { 
                    field: 'name', 
                    header: 'Employee', 
                    renderer: (value, row) => {
                        return `
                            <div style="display: flex; align-items: center;">
                                <div style="width: 32px; height: 32px; border-radius: 50%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); margin-right: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">
                                    ${value.split(' ').map(n => n[0]).join('')}
                                </div>
                                <div>
                                    <div style="font-weight: 600;">${value}</div>
                                    <div style="font-size: 12px; color: #666;">${row.email}</div>
                                </div>
                            </div>
                        `;
                    }
                },
                { field: 'position', header: 'Position' },
                { 
                    field: 'department', 
                    header: 'Department',
                    renderer: (value) => {
                        const colors = {
                            'Engineering': '#007bff',
                            'Product': '#28a745',
                            'Design': '#ffc107',
                            'Analytics': '#17a2b8',
                            'Marketing': '#dc3545',
                            'Human Resources': '#6f42c1',
                            'Quality': '#fd7e14',
                            'Finance': '#20c997'
                        };
                        const color = colors[value] || '#6c757d';
                        return `<span style="background: ${color}; color: white; padding: 2px 8px; border-radius: 12px; font-size: 12px;">${value}</span>`;
                    }
                }
            ],
            data: employeeData.slice(0, 6),
            resizable: true,
            sortable: true
        });

        // Control functions
        function addRandomRow() {
            const names = ['Alex Turner', 'Sophie Martin', 'Ryan Lee', 'Emma Thompson'];
            const positions = ['Developer', 'Designer', 'Manager', 'Analyst'];
            const departments = ['Engineering', 'Design', 'Product', 'Analytics'];
            
            const newRow = {
                id: advancedGrid.options.data.length + 1,
                name: names[Math.floor(Math.random() * names.length)],
                position: positions[Math.floor(Math.random() * positions.length)],
                department: departments[Math.floor(Math.random() * departments.length)],
                salary: '$' + (70000 + Math.floor(Math.random() * 50000)),
                status: Math.random() > 0.3 ? 'active' : 'inactive'
            };
            
            advancedGrid.addRow(newRow);
        }

        function removeSelectedRows() {
            const selected = advancedGrid.getSelectedRows();
            if (selected.length === 0) {
                alert('Please select rows to remove');
                return;
            }
            
            selected.forEach(row => {
                const index = advancedGrid.options.data.findIndex(r => r.id === row.id);
                if (index !== -1) {
                    advancedGrid.removeRow(index);
                }
            });
            
            advancedGrid.clearSelection();
            document.getElementById('selection-text').textContent = 'No rows selected';
        }

        function toggleTheme() {
            currentTheme = currentTheme === 'dark' ? '' : 'dark';
            advancedGrid.setTheme(currentTheme);
        }

        function toggleFilter() {
            const filterBtn = document.getElementById('filterBtn');
            
            if (advancedGrid.isFiltered()) {
                // Currently filtered, show all
                advancedGrid.showAll();
                filterBtn.textContent = 'Show Selected Data';
                filterBtn.style.backgroundColor = '';
            } else {
                // Currently showing all, filter to selected
                const hasSelection = advancedGrid.showSelectedOnly();
                
                if (!hasSelection) {
                    alert('Please select at least one row to filter');
                } else {
                    filterBtn.textContent = 'Show All Data';
                    filterBtn.style.backgroundColor = '#28a745';
                }
            }
            
            // Update selection info
            document.getElementById('selection-text').textContent = 
                advancedGrid.isFiltered() ? 'Showing filtered data' : 'No rows selected';
        }
    </script>
</body>
</html>